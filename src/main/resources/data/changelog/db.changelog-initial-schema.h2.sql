-- liquibase formatted sql

-- changeset patri:1625603089050-1
CREATE TABLE MEMBER (ID BIGINT AUTO_INCREMENT NOT NULL, NAME VARCHAR(255) NOT NULL, SEX CHAR(2147483647) NOT NULL, EMAIL VARCHAR(255) NOT NULL, MAIN_SKILL VARCHAR(255), STATUS VARCHAR(255), CONSTRAINT CONSTRAINT_456 PRIMARY KEY (ID));

-- changeset patri:1625603089050-2
CREATE TABLE MEMBER_SKILL (MEMBER_ID INT, SKILL_ID INT);

-- changeset patri:1625603089050-3
CREATE TABLE SKILL (ID BIGINT AUTO_INCREMENT NOT NULL, NAME VARCHAR(255) NOT NULL, LEVEL INT NOT NULL, CONSTRAINT CONSTRAINT_4 PRIMARY KEY (ID));

-- changeset patri:1625603089050-4
ALTER TABLE MEMBER ADD CONSTRAINT CONSTRAINT_45 UNIQUE (EMAIL);

-- changeset patri:1625603089050-5
CREATE INDEX CONSTRAINT_INDEX_D ON MEMBER_SKILL(MEMBER_ID);

-- changeset patri:1625603089050-6
CREATE INDEX CONSTRAINT_INDEX_D9 ON MEMBER_SKILL(SKILL_ID);

-- changeset patri:1625603089050-7
ALTER TABLE MEMBER_SKILL ADD CONSTRAINT CONSTRAINT_D FOREIGN KEY (MEMBER_ID) REFERENCES MEMBER (ID) ON UPDATE RESTRICT ON DELETE RESTRICT;

-- changeset patri:1625603089050-8
ALTER TABLE MEMBER_SKILL ADD CONSTRAINT CONSTRAINT_D9 FOREIGN KEY (SKILL_ID) REFERENCES SKILL (ID) ON UPDATE RESTRICT ON DELETE RESTRICT;

